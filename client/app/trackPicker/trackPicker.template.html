<div class="modal-content">
  <div class="modal-header">

    <div class="row">
      <div class="col-xs-6">  
        <h3 class="modal-title" id="modal-title">Sélection [{{ $ctrl.selectedDir }}]</h3>    
      </div>
      <div class="col-xs-6">
        <input class="form-control pull-right" type="text" name="search" data-ng-model="trackSearch" placeholder="Recherche textuelle">
      </div>    
    </div>  
  </div>
  <div class="modal-body" id="picker-body">
    <div class="row">
      <div class="col-xs-12">
        <div class="well" style="min-height:7em">
          <ul class="list-inline" data-ng-model="$ctrl.tracksToAdd" ui-sortable="sortableOptions">
            <li class="media" data-ng-repeat="t in $ctrl.tracksToAdd track by $index">
              <table>
                <tr>
                  <td class="grabbable">
                    [{{ t.id }}]
                  </td>
                  <td class="pull-right">
                    <span style="color:red" aria-hidden="true" role="button" data-ng-click="$ctrl.remove($index)">x</span>
                  </td>
                </tr>
                <tr data-ng-show="$ctrl.cfg.showVideoInPicker">
                  <td colspan="2" class="grabbable">
                  <video data-ng-show="$ctrl.cfg.showVideoInPicker" width="80" height="60" controls preload="none">
                    <source data-ng-src="{{ t.filepath }}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  </td>
                </tr>
              </table>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <table class="table table-hover">
          <thead>
            <th data-ng-show="$ctrl.cfg.showVideoInPicker">vidéo</th>
            <th>durée</th>
            <th>type</th>
            <th>id</th>
            <th>titre</th>
            <th></th>
          </thead>
          <tbody>
            <tr class="media" data-ng-repeat="track in $ctrl.availableTracks | filter:trackSearch">
              <td data-ng-show="$ctrl.cfg.showVideoInPicker">
                <video width="160px" height="120px" controls  preload="none">
                  <source data-ng-src="{{ track.filepath }}" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </td>
              <td>{{ track.duration }}</td>
              <td>{{ track.typeDesc }}</td>
              <td>{{ track.id }}</td>
              <td>{{ track.title }}</td>
              <td>
                <button class="btn btn-default" type="button" id="addItem" data-ng-click="$ctrl.addTrack(track)" data-ng-disabled="!$ctrl.addAllowed">
                  <i class="fa fa-plus"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-ng-click="$ctrl.ok()">confirmer</button>
    <button type="button" class="btn btn-default" data-ng-click="$ctrl.cancel()">annuler</button>
  </div>
</div>
